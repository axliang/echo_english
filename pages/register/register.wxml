<view class="register-page">
  <view class="register-card">
    <view class="register-header">
      <text class="register-title">手机号注册</text>
      <text class="register-sub">输入手机号 + 验证码 + 密码即可完成注册</text>
    </view>

    <view class="form-field">
      <input
        type="number"
        maxlength="11"
        placeholder="请输入 11 位手机号"
        value="{{registerForm.phone}}"
        data-field="phone"
        bindinput="onInput"
      />
      <text class="error-text" wx:if="{{registerErrors.phone}}">{{registerErrors.phone}}</text>
    </view>

    <view class="form-field code-field">
      <input
        type="number"
        maxlength="6"
        placeholder="短信验证码"
        value="{{registerForm.code}}"
        data-field="code"
        bindinput="onInput"
      />
      <button class="code-btn" bindtap="sendCode" disabled="{{codeCountdown > 0}}">
        {{codeCountdown > 0 ? codeCountdown + 's' : '获取验证码'}}
      </button>
      <text class="error-text" wx:if="{{registerErrors.code}}">{{registerErrors.code}}</text>
    </view>

    <view class="form-field">
      <input
        type="password"
        placeholder="设置登录密码（至少 6 位）"
        value="{{registerForm.password}}"
        data-field="password"
        bindinput="onInput"
      />
      <text class="error-text" wx:if="{{registerErrors.password}}">{{registerErrors.password}}</text>
    </view>

    <view class="form-field">
      <input
        type="password"
        placeholder="确认登录密码"
        value="{{registerForm.confirmPassword}}"
        data-field="confirmPassword"
        bindinput="onInput"
      />
      <text class="error-text" wx:if="{{registerErrors.confirmPassword}}">{{registerErrors.confirmPassword}}</text>
    </view>

    <button class="submit-btn" bindtap="submitRegister">立即注册</button>
    <view class="link-row">
      <text>已有账号？</text>
      <text class="link" bindtap="goToLogin">去登录 ></text>
    </view>
  </view>

  <view class="records">
    <text class="records-title">登录记录</text>
    <block wx:for="{{loginRecords}}" wx:key="index">
      <view class="record-item">{{item}}</view>
    </block>
  </view>
</view>
