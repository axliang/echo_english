<view class="discover-page">
  <view class="discover-search" bindtap="goToSearch">
    <view class="search-icon-wrapper">
      <image src="/images/list.png" mode="aspectFit"></image>
    </view>
    <view class="search-texts">
      <text class="search-title">搜索字幕中的单词</text>
      <text class="search-sub">例句、时间点一目了然</text>
    </view>
    <text class="search-arrow">›</text>
  </view>
  <!-- 顶部导航栏 -->
  <view class="nav-bar">
    <view class="nav-tabs">
      <view 
        class="nav-tab {{currentTab === 0 ? 'active' : ''}}" 
        data-tab="0" 
        bindtap="switchTab"
      >
        电影
      </view>
      <view 
        class="nav-tab {{currentTab === 1 ? 'active' : ''}}" 
        data-tab="1" 
        bindtap="switchTab"
      >
        演讲
      </view>
      <view 
        class="nav-tab {{currentTab === 2 ? 'active' : ''}}" 
        data-tab="2" 
        bindtap="switchTab"
      >
        高考
      </view>
    </view>
    <view class="nav-indicator" style="left: {{indicatorLeft}}px; width: {{indicatorWidth}}px;"></view>
  </view>

  <!-- 内容列表 -->
  <scroll-view class="content-list" scroll-y="true">
    <!-- 电影/演讲列表 -->
    <block wx:if="{{currentTab === 0 || currentTab === 1}}">
      <block wx:for="{{movieList}}" wx:key="id">
        <view class="movie-card" bindtap="goToDetail" data-id="{{item.id}}">
          <image class="movie-poster" src="{{item.poster}}" mode="aspectFill"></image>
          <view class="movie-info">
            <text class="movie-title">{{item.title}}</text>
            <view class="movie-tags">
              <text wx:for="{{item.tags}}" wx:key="index" class="tag">{{item}}</text>
            </view>
            <view class="movie-meta">
              <text class="meta-item">{{item.year}} · {{item.country}}</text>
              <text class="meta-item">{{item.genre}}</text>
            </view>
            <view class="movie-stats">
              <view class="stat-item">
                <image class="stat-icon" src="/images/clock.png"></image>
                <text>{{item.duration}}</text>
              </view>
              <view class="stat-item">
                <image class="stat-icon" src="/images/list.png"></image>
                <text>{{item.segments}}个分段</text>
              </view>
            </view>
          </view>
        </view>
      </block>
    </block>
    
    <!-- 高考列表 -->
    <block wx:if="{{currentTab === 2}}">
      <block wx:for="{{examList}}" wx:key="id">
        <view class="movie-card" bindtap="goToDetail" data-id="{{item.id}}">
          <image class="movie-poster" src="{{item.image}}" mode="aspectFill"></image>
          <view class="movie-info">
            <text class="movie-title">{{item.name}}</text>
            <view class="movie-tags">
              <text class="tag">高考</text>
            </view>
            <view class="movie-meta">
              <text class="meta-item">{{item.description}}</text>
            </view>
            <view class="movie-stats">
              <view class="stat-item">
                <image class="stat-icon" src="/images/list.png"></image>
                <text>练习材料</text>
              </view>
            </view>
          </view>
        </view>
      </block>
    </block>
  </scroll-view>
</view>